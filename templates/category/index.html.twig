{% extends 'base.html.twig' %}

{% block title %}Hello CategoryController!
{% endblock %}

{% block body %}

	<div class="container">
		<h1 class="mt-4 border-bottom border-primary d-inline-block">Mes cat√©gories</h1><br>
		{% for message in app.flashes('success') %}
			<div class="alert alert-success alert-dismissible fade show">
				{{ message }}
				<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
		{% endfor %}
		{% for category in categories %}
			<h2 class="mt-5 badge bg-primary">{{ category.name }}</h2>
			<div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
				{% for article in category.articles | slice(-3) %}
					{% include "partials/_articleCard.html.twig" %}
				{% endfor %}
				<div class="card d-flex justify-content-center bg-dark">
					<a href="{{path('category_show', {id: category.id}) }}" class="btn btn-primary align-self-center">Voir
						{{category.name}}</a>
				</div>
			</div>
		{% endfor %}
	</div>
{% endblock %}
